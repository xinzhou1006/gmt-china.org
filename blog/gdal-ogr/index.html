<!doctype html><html lang=zh-cmn-hans><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,user-scalable=no"><meta name=generator content="Hugo 0.48"><meta name=author content="GMT 中文社区"><meta name=description content="面向 GMT 中文用户的小众社区"><title>GDAL/OGR: 地理空间数据格式转换神器 | GMT 中文社区</title><link href=//cdn.bootcss.com/bootswatch/3.3.7/paper/bootstrap.css rel=stylesheet><link href=//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css rel=stylesheet><link href=//cdn.bootcss.com/prism/1.5.1/themes/prism-solarizedlight.min.css rel=stylesheet><link href=//cdn.bootcss.com/prism/1.5.1/plugins/line-numbers/prism-line-numbers.min.css rel=stylesheet><link href=//cdn.bootcss.com/featherlight/1.5.0/featherlight.min.css rel=stylesheet><link rel=stylesheet href=https://gmt-china.org/css/style.css><link rel=stylesheet href=https://gmt-china.org/css/mobile.css><link rel="shortcut icon" href=https://gmt-china.org/images/favicon.ico type=image/x-icon type=image/png><link rel=icon href=https://gmt-china.org/images/apple-touch-icon-152x152.png type=image/png><link rel=apple-touch-icon href=https://gmt-china.org/images/apple-touch-icon.png type=image/png><link rel=apple-touch-icon sizes=57x57 href=https://gmt-china.org/images/apple-touch-icon-57x57.png type=image/png><link rel=apple-touch-icon sizes=72x72 href=https://gmt-china.org/images/apple-touch-icon-72x72.png type=image/png><link rel=apple-touch-icon sizes=76x76 href=https://gmt-china.org/images/apple-touch-icon-76x76.png type=image/png><link rel=apple-touch-icon sizes=114x114 href=https://gmt-china.org/images/apple-touch-icon-114x114.png type=image/png><link rel=apple-touch-icon sizes=120x120 href=https://gmt-china.org/images/apple-touch-icon-120x120.png type=image/png><link rel=apple-touch-icon sizes=144x144 href=https://gmt-china.org/images/apple-touch-icon-144x144.png type=image/png><link rel=apple-touch-icon sizes=152x152 href=https://gmt-china.org/images/apple-touch-icon-152x152.png type=image/png><link rel=apple-touch-icon sizes=180x180 href=https://gmt-china.org/images/apple-touch-icon-180x180.png type=image/png><meta name=msapplication-TileImage content=https://gmt-china.org/images/apple-touch-icon-144x144.png><meta name=msapplication-TileColor content=#d83434></head><body><div class=container><header id=header><div class=outer><nav class="navbar navbar-default navbar-fixed-top"><div class=container-fluid><div class=navbar-header><button type=button class="navbar-toggle collapsed" data-toggle=collapse data-target=#navbar-collapse-menu aria-expanded=false>
<span class=sr-only>Toggle navigation</span>
<span class=icon-bar></span><span class=icon-bar></span><span class=icon-bar></span></button>
<a class=navbar-brand href=https://gmt-china.org/><span class=site-title>GMT 中文社区</span></a></div><div class="collapse navbar-collapse" id=navbar-collapse-menu><ul class="nav navbar-nav navbar-right"><li class=nav-item><a href=/>首页</a></li><li class=nav-item><a href=/docs/>文档</a></li><li class=nav-item><a href=/gallery/>图库</a></li><li class=nav-item><a href=/blog/>博客</a></li><li class=nav-item><a href=/example/>示例</a></li><li class=nav-item><a href=/datas/>数据集</a></li><li class=nav-item><a href=/download/>下载</a></li><li class=nav-item><a href=/authors/>贡献者</a></li><li class=nav-item><a href=/about/>关于</a></li><li class=nav-item><a href=/images/qq-group.jpg><i class="fa fa-qq fa-lg" aria-hidden=true></i></a></li><li class=nav-item><a href=https://github.com/gmt-china><i class="fa fa-github fa-lg" aria-hidden=true></i></a></li><li class=nav-item><a href=mailto:admin@gmt-china.org><i class="fa fa-envelope fa-lg" aria-hidden=true></i></a></li><li><a href=https://gmt-china.org/index.xml><i class="fa fa-rss-square fa-lg" aria-hidden=true></i></a></li></ul></div></div></nav></div></header><div id=body><div class=outer><section id=main><article><div class=article-inner><header class=article-header><h1 class=article-title itemprop=name><a href=https://gmt-china.org/blog/gdal-ogr/ class=permalink>GDAL/OGR: 地理空间数据格式转换神器</a></h1><div class=article-meta><div class=article-category><i class="fa fa-sitemap"></i><a class=article-category-link href=https://gmt-china.org/categories/GMT%E5%B7%A5%E5%85%B7/>GMT工具</a></div><div class=article-category><i class="fa fa-tags"></i><a class=article-category-link href=https://gmt-china.org/tags/%E6%A0%BC%E5%BC%8F%E8%BD%AC%E6%8D%A2/>格式转换</a></div><div class=article-category><i class="fa fa-user"></i><a class=article-category-link href=https://gmt-china.org/authors/seisman/>seisman</a></div><time class=article-date datetime="2016-11-17 00:00:00 &#43;0000 UTC" itemprop=datePublished>2016年11月17日</time></div></header><div class=article-body itemprop=articleBody><p>GDAL/OGR 是一个地理空间数据的格式转换及处理工具。</p><h2 id=简介>简介</h2><p>官方主页: <a href=http://www.gdal.org target=_blank>http://www.gdal.org</a></p><p>GDAL/OGR 的核心分成两个部分：</p><ul><li>GDAL部分可以实现142种光栅数据格式间的互相转换，比如常见的 netCDF、GeoTiff、HDF5、XYZ 等，详见 <a href=http://www.gdal.org/formats_list.html target=_blank>GDAL光栅格式列表</a></li><li>OGR部分可以实现84种矢量数据格式间的互相转换，比如常见的 Shapefile、GMT、KML、MapInfo、Excel 等，详见 <a href=http://www.gdal.org/ogr_formats.html target=_blank>OGR矢量格式列表</a></li></ul><h2 id=安装>安装</h2><h3 id=linux-用户>Linux 用户</h3><div class="notices warning"><p>Linux 由于版本众多，以下仅供参考。如有差异，请到 <a href=https://pkgs.org target=_blank>https://pkgs.org</a> 自行搜索。</p></div><p>CentOS/Fedora 用户:</p><pre><code>sudo yum install gdal gdal-python
</code></pre><p>Ubuntu/Debian 用户:</p><pre><code>sudo apt-get install gdal-bin python-gdal
</code></pre><h3 id=macos-用户>macOS 用户</h3><p>推荐使用 <a href=http://brew.sh/ target=_blank>Homebrew</a> 安装:</p><pre><code>brew install gdal --with-complete
</code></pre><p>非 homebrew 用户也可以到 <a href=http://www.kyngchaos.com/software/frameworks target=_blank>William Kyngesburye 的网站</a> 下载 dmg 安装包。</p><h3 id=windows-用户>Windows 用户</h3><p>Windows 用户可以通过安装 <a href=https://trac.osgeo.org/osgeo4w/ target=_blank>OSGeo4W</a> 来使用其提供的 GDAL。安装及使用方式如下：</p><ol><li>到 OSGeo4W 官方网站下载 <a href=http://download.osgeo.org/osgeo4w/osgeo4w-setup-x86.exe target=_blank>32位</a> 或 <a href=http://download.osgeo.org/osgeo4w/osgeo4w-setup-x86_64.exe target=_blank>64位</a> 安装包</li><li>双击=&gt;“Express Desktop Install”=&gt;选择下载地址=&gt;只勾选GDAL=&gt;等待下载安装完成（有经验的用户也可以选择“Advanced Install”以自定义安装）</li><li>安装完成会在桌面生成一个名为OSGeo4W的文件夹，双击文件夹内的快捷链接即可打开一个命令行窗口</li><li>命令行窗口中输入 <code>ogr2ogr --version</code> 以确认可以正常使用</li><li>如果只是偶尔使用，建议按照如上方式运行；如果是经常使用，可以将 <code>C:\OSGeo4W64\bin</code> 添加到 环境变量 PATH 中</li></ol><p>如果由于某些原因无法使用 OSGeo4W，下面两个软件包中也附带了 GDAL 工具：</p><ul><li><a href=http://www.ms4w.com/ target=_blank>MS4W</a></li><li><a href=http://www.gisinternals.com/ target=_blank>GISInternals</a></li></ul><h2 id=使用>使用</h2><p>GDAL/OGR 提供了几十个工具，每个工具用法也很丰富。此处只介绍常见工具的简单用法，详细用法请参考 <a href=http://www.gdal.org/gdal_utilities.html target=_blank>GDAL工具列表</a> 和 <a href=http://www.gdal.org/ogr_utilities.html target=_blank>OGR工具列表</a>。</p><h3 id=ogr2ogr>ogr2ogr</h3><p><code>ogr2ogr</code> 用于地理矢量数据格式之间的相互转换。</p><p>查看 <code>ogr2ogr</code> 支持哪些格式:</p><pre><code>$ ogr2ogr --formats
</code></pre><p>将 Shapefile 格式的数据转换为 GMT 所需要的格式:</p><pre><code>$ ogr2ogr -f GMT CHN_adm0.gmt CHN_adm0.shp
</code></pre><p>其中， <code>-f GMT</code> 表示将输入数据转换为 GMT 格式。</p><h3 id=gdal-translate>gdal_translate</h3><p><code>gdal_translate</code> 用于地理空间光栅数据格式之间的相互转换。</p><p>查看 <code>gdal_translate</code> 支持哪些格式:</p><pre><code>$ gdal_translate --formats
</code></pre><p>将 GeoTiff 数据转换为 GMT 所使用的 netCDF 格式:</p><pre><code>$ gdal_translate -of GMT srtm_56_05.tif srtm_56_05.nc
</code></pre><div class="notices warning"><p>GDAL 默认不支持 GMT 所需的 netCDF 格式，所以需要注意检查当前机器安装的 GDAL 是否支持。</p><p>若当前机器安装的 GDAL 不支持 GMT 格式，有两个解决办法：</p><ol><li>自行编译安装 GDAL 并保证其支持 GMT 格式</li><li>先将数据转换为 XYZ 格式再利用 GMT 提供的 <code>xyz2grd</code> 命令转换为 netCDF 格式</li></ol></div><h3 id=gdal-merge-py>gdal_merge.py</h3><p><code>gdal_merge.py</code> 用于将合并多个光栅文件。</p><p>将多个 GeoTiff 文件合并为一个 GeoTiff 文件:</p><pre><code>$ gdal_merge.py -o output.tif srtm_56_07.tif srtm_57_07.tif
</code></pre><h2 id=参考资料>参考资料</h2><ul><li><a href=http://www.gdal.org/ target=_blank>GDAL官方网站</a></li><li><a href=http://www.gdal.org/gdal_utilities.html target=_blank>GDAL工具列表</a></li><li><a href=http://www.gdal.org/ogr_utilities.html target=_blank>OGR工具列表</a></li><li><a href=http://headfirst-gdal.readthedocs.io/en/latest/index.html target=_blank>GDAL中文教程</a></li></ul></div><footer class=article-footer><div id=gitalk-container></div><link rel=stylesheet href=https://unpkg.com/gitalk/dist/gitalk.css><script src=https://unpkg.com/gitalk/dist/gitalk.min.js></script><script>var gitalk=new Gitalk({clientID:'33c0af3846f5099c3375',clientSecret:'89c589212198ac2c0967fe40719e404b269fab8a',owner:'gmt-china',repo:'gitalk',admin:['zhaozhiyuan1989','cehui07226','NothingIsBig','seisman','SeisPider','wangliang1989'],body:location.href,});gitalk.render('gitalk-container');</script></footer><nav><ul class=pager><li class=previous><a href=https://gmt-china.org/blog/unix-tools-for-windows/><strong class=article-nav-caption>上一篇</strong><div class=article-nav-title>Windows 下可用的 Unix 工具</div></a></li><li class=next><a href=https://gmt-china.org/blog/global-earth-relief-grids/><strong class=article-nav-caption>下一篇</strong><div class=article-nav-title>全球地形起伏数据</div></a></li></ul></nav></div></article></section></div></div><footer id=footer class=footer><div class=copyright>&copy; 2016 -
<span itemprop=copyrightYear>2018</span>
<span class=with-love><i class="fa fa-heart"></i></span><span class=author itemprop=copyrightHolder>GMT 中文社区</span></div><div class=powered-by>Powered by <a href=https://gohugo.io target=_blank>Hugo</a> &amp; Hosted by <a href=https://github.com/gmt-china/gmt-china.org target=_blank>GitHub</a>.</div></footer><script src=//cdn.bootcss.com/jquery/3.1.1/jquery.min.js></script><script src=//cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js></script><script src=//cdn.bootcss.com/prism/1.5.1/prism.min.js></script><script src=//cdn.bootcss.com/prism/1.5.1/components/prism-bash.min.js></script><script src=//cdn.bootcss.com/prism/1.5.1/plugins/line-numbers/prism-line-numbers.min.js></script><script src=//cdn.bootcss.com/clipboard.js/1.5.12/clipboard.js></script><script src=//cdn.bootcss.com/featherlight/1.5.0/featherlight.min.js></script><script src=https://gmt-china.org/js/script.js></script></div></body></html>